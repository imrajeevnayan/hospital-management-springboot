<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Appointments - HMS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.css' rel='stylesheet' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>
</head>
<body class="bg-gradient-to-br from-indigo-50 to-purple-100 min-h-screen">
<nav class="bg-white shadow-lg">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
        <h1 class="text-3xl font-bold text-indigo-700">My Appointments</h1>
        <div class="flex gap-4">
            <a href="/appointment/book" class="bg-green-600 text-white px-6 py-3 rounded-full hover:bg-green-700 transition font-semibold">
                Book New Appointment
            </a>
            <a href="/logout" class="bg-red-600 text-white px-6 py-3 rounded-full hover:bg-red-700 transition">Logout</a>
        </div>
    </div>
</nav>

<div class="max-w-7xl mx-auto p-8">
    <div id="calendar" class="bg-white rounded-3xl shadow-2xl p-8"></div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
      var calendarEl = document.getElementById('calendar');
      var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        headerToolbar: {
          left: 'prev,next today',
          center: 'title',
          right: 'dayGridMonth,timeGridWeek,timeGridDay'
        },
        events: '/appointment/events',
        eventClick: function(info) {
          alert('Appointment: ' + info.event.title + '\nTime: ' + info.event.start.toLocaleString());
        },
        height: 'auto'
      });
      calendar.render();
    });
</script>
</body>
</html>